---
date: 2025-11-15 15:00:18
title: I/O管理概述
permalink: 
publish: true
---

# I/O管理概述

## I/O 设备

**输入输出（*Input/Output*, I/O）**设备是操作系统设计中最凌乱最具挑战性的部分。

其包含各个领域的设备及与设备相关的应用程序，很难有一个通用的设计方案。

### 设备的分类

- 按信息交换的单位分类

    - 块设备: 信息交换以**块**为单位，如磁盘、光盘等。传输速率较高、可寻址，即可**随机读/写**。

    - 字符设备: 信息交换以**字符**为单位，如交互式终端机、打印机等。传输速率低，不可寻址，通常采用**中断I/O方式**。

- 按传输速率分类

    - 低速设备: 速率 $\leq 1\text{KB/s}$，如键盘、鼠标等。

    - 中速设备: $1\text{KB/s} \thicksim 10\text{KB/s}$，如激光打印机等。

    - 高速设备: $100\text{KB/s} \thicksim 1000\text{MB/s}$，如磁盘、光盘等。

- 按使用特性分类

    - 人机交互设备: 如键盘、鼠标等。

    - 存储设备: 如磁盘、光盘等。

    - 网络设备: 如网卡、调制解调器等。

- 按设备的共享属性分类

    - 独占设备: 同一时段只能由一个进程占用。低速设备一般是独占设备，如打印机。

    - 共享设备: 同一时段允许多个进程同时访问的设备。通过分时的方式实现共享，如磁盘。

    - 虚拟设备: 通过[SPOOLing（假脱机）技术](5-dev-independent-software.md#假脱机技术)将独占设备改造为共享设备，将一个物理设备虚拟为多个逻辑设备，从而将设备同时分配给多个进程[^1]。

### I/O接口

>[IO接口 | 博客园@AH20](https://www.cnblogs.com/AH20/p/18493784)

**I/O接口**也称**设备控制器**，是CPU与I/O设备之间的桥梁，用于实现CPU与I/O设备之间的数据交换。

I/O接口收发来自CPU的I/O指令，并根据指令的内容控制I/O设备工作。使CPU能能从繁杂的设备控制事务中解脱出来，专注于其他任务。

#### 接口组成

设备控制器主要由三个部分组成:

![I/O接口组成](assets/5-io-overview/io_interface.png)

- 设备控制器与CPU的接口: 用于实现CPU与设备控制器之间的通信。有三条信号线:

    - 数据线: 用于传输读/写信息、控制信息、设备状态信息等

    - 地址线: 用于传输要访问I/O接口中的寄存器编号

    - 控制线: 用于传输读/写控制信号

- 设备控制器与设备的接口: 用于实现设备控制器与设备之间的通信。控制器中一个或多个设备接口，每个接口都可以传输数据、控制和状态三种类型的信号。

- I/O逻辑: 用于实现对设备的控制。

#### 接口类型

- 按数据传送方式来看，I/O接口可分为**并行接口**和**串行接口**。

- 按主机访问I/O设备的控制方式来看，I/O接口可分为**程序查询接口**、**中断接口**、**DMA接口**等。

- 按功能选择的灵活性，可分为**可编程接口**（通过编程改变接口的功能）和**不可编程接口**。

### I/O端口

## I/O控制方式

### 程序直接控制

### 中断驱动控制

### DMA控制

### 通道控制

## I/O软件层次结构

## I/O应用程序接口

### I/O接口的分类

### 阻塞I/O和非阻塞I/O
