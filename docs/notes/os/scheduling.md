---
date: 2025-10-23 01:00:51
title: 处理机调度
permalink: 
publish: true
---

# 处理机调度

## 处理机调度层次

### 高级调度

高级调度又称为**作业调度**或**长程调度**。其主要功能是根据某种算法，决定将外存上处于后备队列中的哪些作业调入内存，为它们创建进程、分配必要资源，并放入就绪队列。

简单来说，==高级调度用于决定哪些**作业**可以进入内存运行==。

高级调度主要用于**多道批处理系统**，分时系统与实时系统不设置高级调度。

### 中级调度

中级调度又称**内存调度**，其主要目的是提高内存利用率和系统吞吐量，改善系统性能。

为实现这一目的，中级调度需要完成两项工作（“对换”功能）：

- 将暂不运行的进程调至外存等待

- 将存于外存上急需运行的进程调入内存运行

### 低级调度

低级调度也称为**进程调度**或**短程调度**。其主要功能是按照某种算法，==决定就绪队列中的哪个**进程（或[内核级线程](process.md#内核支持线程)）**获得处理机资源==。

低级调度是操作系统中**最为活跃的调度**，因此其算法设计的好坏直接影响到系统的性能。

多道批处理系统、分时系统、实时系统均有应用低级调度。

## 处理机调度算法

### 调度算法的目标

#### 共同目标

- **资源利用率**: 使系统中的处理机和其他所有资源都尽可能地**保持忙碌**状态

- **公平性**: 确保每个进程都能获得合理的CPU时间，避免某些进程**饥饿**

    !!! info "饥饿"
        饥饿（*starvation*）是指进程因为某种原因**长时间无法获得所需资源（特别是CPU时间）**，导致无法继续执行的现象

- **平衡性**: 根据资源使用情况，可将系统中的进程划分为**计算密集型**与**I/O密集型**。调度算法应尽可能保持系统资源使用的平衡性，从而满足第一条目标。

    !!! info "计算密集型与I/O密集型进程"
        - **计算密集型进程**：需要大量CPU计算资源的进程，如科学计算、图像处理等

        - **I/O密集型进程**：需要大量I/O操作的进程，如文件读写、网络通信等

- **策略强制执行**: 对于所制定的策略（包括安全策略等），只要需要，必须予以准确地执行，即使会造成某些工作的延迟

#### 部分评价指标

- CPU利用率

    $$
    \text{CPU利用率} = \frac{\text{CPU有效工作时间}}{\text{CPU有效工作时间} + \text{CPU空闲等待时间}}
    $$

- 周转时间

    从作业提交到系统开始到作业完成的时间间隔。

    - ==**平均周转时间**: 所有作业的周转时间之和与作业个数之比==

        $$
        T = \frac{1}{n} \sum_{i=1}^{n} T_i
        $$

    - **带权周转时间**: 权值为作业周转时间 $T_i$ 与系统为之服务时间 $T_s$ 之比

        $$
        T_{W_i} = \frac{T_i}{T_s}
        $$

    - ==**平均带权周转时间**: 所有作业的带权周转时间之和与作业个数之比==

        $$
        T_{W} = \frac{1}{n} \sum_{i=1}^{n} T_{W_i} = \frac{1}{n} \sum_{i=1}^{n} \frac{T_i}{T_s}
        $$

- 响应时间: 从作业提交到首次产生响应的时间间隔。

- 等待时间（进程调度）: 进程在就绪队列中等待处理机的时间之和。

#### 批处理系统的目标

- 平均周转时间短

- 系统吞吐量高

- 处理机利用率高

#### 分时系统的目标

- 响应时间短

- 均衡性

#### 实时系统的目标

- 保证满足截止时间的要求

- 保证可预测性

### 调度算法
