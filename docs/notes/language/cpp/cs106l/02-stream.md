# æµ

*è¯¥ç¬”è®°åŸºäºè¯¾ç¨‹CS106Lçš„å­¦ä¹ ï¼Œç”¨äºè®°å½•ä¸€äº›cppçš„é‡è¦ç‰¹æ€§ä»¥åŠå…ˆå‰ä¸æ›¾äº†è§£çš„cppç‰¹æ€§ã€‚*

åœ¨C++ä¸­ï¼Œæµ(`stream`)æ˜¯ä¸€ä¸ªååˆ†é‡è¦çš„æ¦‚å¿µï¼Œå®ƒæ˜¯**I/Oï¼ˆInput/Output, è¾“å…¥è¾“å‡ºï¼‰çš„ä¸€èˆ¬æŠ½è±¡**ï¼Œè¡¨ç¤ºæ•°æ®çš„æµåŠ¨æ–¹å‘å’Œæ–¹å¼ã€‚

!!! note

    æŠ½è±¡ï¼ˆAbstractionsï¼‰é€šå¸¸ä¸ºå„ç§æ“ä½œæä¾›ä¸€ä¸ªç»Ÿä¸€çš„**æ¥å£ï¼ˆInterfaceï¼‰**ã€‚åœ¨è¿™é‡Œï¼Œ`stream`å°±æ˜¯**æ•°æ®è¯»å†™**çš„æ¥å£ã€‚

## æ ‡å‡†è¾“å…¥è¾“å‡ºæµ

æœ€å¸¸ç”¨çš„æ ‡å‡†è¾“å…¥è¾“å‡ºæµå°±æ˜¯`cin`å’Œ`cout`äº†ï¼Œä»–ä»¬å·¥ä½œæ—¶åˆ†åˆ«ä»æ§åˆ¶å°è¯»å–æ•°æ®å’Œå‘æ§åˆ¶å°è¾“å‡ºæ•°æ®ã€‚

åœ¨æ ‡å‡†è¾“å…¥è¾“å‡ºæµä¸­ï¼Œè¿˜æœ‰ä¸¤ä¸ªè¾“å‡ºæµï¼š

- `cerr`ï¼š**æ ‡å‡†é”™è¯¯è¾“å‡ºæµ**ï¼Œç”¨äºè¾“å‡ºé”™è¯¯ä¿¡æ¯ã€‚ä¸`cout`çš„ä¸åŒåœ¨äºä¸ä¼šè¢«ç¼“å†²ï¼Œä¼šç«‹å³è¾“å‡º

- `clog`ï¼š**æ ‡å‡†æ—¥å¿—è¾“å‡ºæµ**ï¼Œç”¨äºè¾“å‡ºéå…³é”®æ—¥å¿—ä¿¡æ¯ã€‚ä¸`cerr`ç±»ä¼¼ï¼Œä½†ä¼šè¿›è¡Œç¼“å†²

æ›´å¤šä¿¡æ¯å¯å‚è€ƒ[Difference between cerr and clog | GeeksForGeeks](https://www.geeksforgeeks.org/difference-between-cerr-and-clog/)

### `std::cin`/`std::cout`

```cpp
#include <iostream>

int main() {
    double pi;
    std::cin >> pi;
    // verify the value of pi
    std::cout << pi << '\n';

    return 0;
}
```
ç¼–è¯‘å¹¶æ‰§è¡Œä¸Šè¿°cppç¨‹åºï¼Œæˆ‘ä»¬åœ¨ç»ˆç«¯è¾“å…¥`3.14`ï¼Œç»ˆç«¯æœ€ç»ˆè¿”å›`1.57`ã€‚

è¿™é‡Œå°±ä¼šæœ‰ä¸€ä¸ªç–‘é—®ï¼šä»ç»ˆç«¯è¯»å–çš„æ•°æ®æ˜¾ç„¶æ˜¯æ•°æ®çš„**å­—ç¬¦è¡¨ç¤ºå½¢å¼**ï¼Œè€Œç¨‹åºä¸­çš„`pi`æ˜¯`double`å‹çš„ï¼Œä¸­é—´æ˜¯å¦æœ‰ä»€ä¹ˆå¤„ç†æˆ–è½¬æ¢çš„è¿‡ç¨‹å‘¢ï¼Ÿ

ç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚ä½œä¸ºI/Oçš„ä¸€èˆ¬æŠ½è±¡ï¼Œ`stream`å…è®¸ä»¥ä¸€ç§é€šç”¨çš„æ–¹å¼å¤„ç†æ¥è‡ªå¤–éƒ¨çš„æ•°æ®ã€‚

æœ¬è´¨ä¸Šï¼Œæ‰€æœ‰çš„`stream`éƒ½å¯ä»¥å½’ä¸º`Input stream(I)`å’Œ`Output stream(O)`ä¸­çš„ä¸€ç§ã€‚å¯¹äºç›¸åŒç±»å‹çš„è¾“å…¥è¾“å‡ºæµï¼Œå®ƒä»¬åœ¨æ•°æ®æº/ç›®æ ‡æ˜¯äº’è¡¥çš„ã€‚åœ¨åé¢çš„ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬è¿˜ä¼šè¯¦ç»†ä»‹ç»è¿™ä¸¤ä¸ªæµã€‚

## å­—ç¬¦ä¸²æµ

å­—ç¬¦ä¸²æµå°†å­—ç¬¦ä¸²è§†ä¸ºæµï¼Œç”¨äºåœ¨å†…å­˜ä¸­å¤„ç†æ•°æ®ï¼Œåœ¨å¤„ç†å¤šä¸­æ•°æ®ç±»å‹æ··åˆçš„åº”ç”¨åœºæ™¯æ˜¯ä¸€ä¸ªé«˜æ•ˆçš„å¤„ç†æ¥å£ã€‚

`std::stringstream`ç¤ºä¾‹ï¼š

```cpp
#include <string>
#include <iostream>
#include <sstream>

void foo() {
    /// partial Bjarne Quote
    std::string initial_quote = "Bjarne Stroustrup C makes it easy to shoot yourself in the foot"; 
    
    /// create a stringstream
    std::stringstream ss(initial_quote);
    // another way to insert 'initial_quote'
    // std::stringstream ss;
    // ss << initial_quote;
    
    /// data destinations
    std::string first;
    std::string last;
    std::string language, extracted_quote;
        
    ss >> first >> last >> language >> extracted_quote;
    std::cout << first << " " << last << " said this: "<< language << " " << extracted_quote << std::endl;
}

int main() {
    foo();
    return 0;
}
```
åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä¸ºå­—ç¬¦ä¸²å˜é‡`initial_quote`åˆ›å»ºäº†ä¸€ä¸ªå­—ç¬¦ä¸²æµ`ss`ï¼Œå¹¶é€šè¿‡`>>`ï¼ˆè¾“å‡ºæµæ“ä½œç¬¦ï¼‰å°†æµæ•°æ®++ä»åŸå§‹æ•°æ®ç§»åŠ¨åˆ°`first`ã€`last`ç­‰ç›®çš„åœ°++ã€‚è¿™å°±æ˜¯æµçš„ä½œç”¨ï¼Œå³**å°†æ•°æ®ä»å†…å­˜ä¸­çš„ä¸€ä¸ªåœ°æ–¹ç§»åŠ¨åˆ°å¦ä¸€ä¸ªåœ°æ–¹**ã€‚å°†æ•°æ®æ¯”ä½œè´§ç‰©ï¼Œæµå°±æ˜¯è£…è½½è´§ç‰©çš„è´§è½¦ï¼Œè€Œåˆ›å»ºæ•°æ®æµçš„è¿‡ç¨‹å°±æ˜¯å°†è´§ç‰©è£…è½¦çš„æ“ä½œã€‚

ä½†ä¸Šé¢çš„ç¨‹åºå­˜åœ¨ä¸€ä¸ªå°å°çš„bugï¼š

è¿™æ˜¯ä¸Šè¿°ç¨‹åºç¼–è¯‘å¹¶æ‰§è¡Œçš„ç»“æœï¼š
```bash
Bjarne Stroustrup said this: C makes
```
è¿™æ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬é¢„æœŸçš„ç»“æœï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆå‘¢ï¼Ÿ

é€šè¿‡æ•°æ®æµï¼Œæˆ‘ä»¬å°†å˜é‡å­—ç¬¦ä¸²å˜é‡`initial_quote`çš„ç¬¬ä¸€ç¬¬äºŒä»¥åŠç¬¬ä¸‰ä¸ªå•è¯åˆ†åˆ«ä»å­—ç¬¦ä¸²æµ`ss`ç§»åŠ¨åˆ°äº†å­—ç¬¦ä¸²å˜é‡`first`ã€`last`å’Œ`language`ä¸Šã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çš„é¢„æœŸæ˜¯å°†`initial_quote`çš„å‰©ä½™éƒ¨åˆ†å…¨éƒ¨èµ‹ç»™`extracted_quote`ï¼Œä½†æ˜¯`>>`ï¼ˆè¾“å‡ºæµæ“ä½œç¬¦ï¼‰åœ¨è¯»å–æ•°æ®æ—¶é‡åˆ°ç©ºæ ¼å°±ä¼šåœæ­¢ï¼Œå› æ­¤æ•°æ®æµåªè½¬ç§»äº†ä¸€ä¸ªå•è¯ã€‚

è§£å†³æ–¹æ³•æ˜¯ä½¿ç”¨`std::getline()`ï¼š

```cpp
#include <iostream>
#include <string>
#include <sstream>

void foo() {
    /// partial Bjarne Quote
    std::string initial_quote = "Bjarne Stroustrup C makes it easy to shoot yourself in the foot";
    
    /// create a stringstream
    std::stringstream ss(initial_quote);
    
    /// data destinations
    std::string first;
    std::string last;
    std::string language, extracted_quote;
    ss >> first >> last >> language;
    std::getline(ss, extracted_quote);
    std::cout << first << " " << last << " said this: \'" << language << " " << extracted_quote + "â€˜" << std::endl;
    }

    
int main() {
    foo();
    return 0;
}
```

ä¸‹é¢æ˜¯`std::getline()`çš„å®šä¹‰ï¼š

```cpp
istream& getline(istream& is, std::string& str, char delim)
```
`std::getline()`è¯»å–è¾“å…¥æµ`is`ï¼Œ**ç›´åˆ°é‡åˆ°å­—ç¬¦å‹åˆ†éš”ç¬¦`delim`**ï¼Œå¹¶å°†æ•°æ®å­˜å…¥å­—ç¬¦ä¸²å‹ç¼“å­˜`str`ä¸­ã€‚å…¶ä¸­`delim`çš„é»˜è®¤å€¼ä¸º`\n`ã€‚

## è¾“å‡ºæµ

### `std::cout`

`Output Stream`ç”¨äºå°†æ•°æ®å†™å…¥ç›®æ ‡åœ°å€æˆ–å¤–éƒ¨è®¾å¤‡ï¼Œä¾‹å¦‚`std::cout`å°†æ•°æ®å†™å…¥æ§åˆ¶å°ã€‚å®é™…æ“ä½œæ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨æ“ä½œç¬¦`<<`å°†æ•°æ®å†™å…¥è¾“å‡ºæµã€‚

è¾“å‡ºæµçš„æ•°æ®åœ¨åŠ è½½è‡³ç›®æ ‡åŒºåŸŸå‰ä¼šäº‹å…ˆå­˜å‚¨åœ¨ä¸­é—´ç¼“å­˜ä¸­ï¼š

```md
                        Buffer
double n = 5.50         -------------------------             ---------
std::cout << n;  ====>  | 5 | . | 5 | 0 |   |   |    ======>  |>_     |
                        -------------------------             |       |
                                                              ---------
```

`std::cout`è¾“å‡ºæµæ˜¯**è¡Œç¼“å†²æµ**ã€‚ç¼“å†²åŒºä¸­çš„æ•°æ®ä¸ä¼šæ˜¾ç¤ºåœ¨æ§åˆ¶å°ä¸Šï¼Œç›´åˆ°ç¼“å†²åŒºæ‰§è¡Œåˆ·æ–°ï¼ˆflushï¼‰æ“ä½œã€‚

### `std::endl`

`std::endl`ç”¨äºæç¤º`cout`å½“å‰æ•°æ®æµåˆ°è¾¾è¡Œæœ«ï¼Œéœ€è¦è¿›è¡Œæ¢è¡Œæ“ä½œã€‚

```cpp
int main() {
    for (int i=0; i < 5; i++) {
        std::cout << i << std::endl;
    }

    return 0;
}
```
result:
```bash
0
1
2
3
4
```

å¦‚æœå»æ‰ä¸Šé¢çš„`std::endl`ï¼Œç»“æœå°±ä¼šå˜æˆè¿™æ ·ï¼š
```bash
01234
```

æ¢è¡Œçš„åŒæ—¶ï¼Œ`std::endl`è¿˜ä¼šæç¤ºæµè¿›è¡Œåˆ·æ–°ï¼ˆflashï¼‰æ“ä½œï¼Œä¸‹é¢æ˜¯è¯¥è¿‡ç¨‹çš„å¯è§†åŒ–ï¼š

```md
Buffer
------------------  flash   ------------------  flash
| 1 |'\n'|   |   |   ===>   | 2 |'\n'|   |   |   ===> ......
------------------          ------------------
```

æ¯ä¸ªæ•°åœ¨è¢«æ”¾å…¥æµåéƒ½ä¼šç«‹å³åˆ·æ–°ï¼Œç›´æ¥è¾“å‡ºåˆ°æ§åˆ¶å°ä¸Šã€‚ä½¿ç”¨`\n`çš„æƒ…å†µç›¸åŒï¼Œè¯¦æƒ…å¯å‚è€ƒ[std::endl | cppreference](https://zh.cppreference.com/w/cpp/io/manip/endl)

### æ–‡ä»¶è¾“å‡ºæµ

æ–‡ä»¶è¾“å‡ºæµç”¨äºå°†æ•°æ®æµå†™å…¥æ–‡ä»¶ï¼Œå…¶å…·æœ‰æ•°æ®ç±»å‹`std::ofstream`ã€‚åœ¨å®é™…æ“ä½œä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æ“ä½œç¬¦`<<`å°†æ•°æ®æµä¼ è¾“è‡³æ–‡ä»¶ã€‚

ä¸‹é¢æ˜¯å…·ä½“ç”¨æ³•ï¼š

```cpp
#include <fstream>

int main() {
  /// associating file on construction
  std::ofstream ofs("hello.txt");
  if (ofs.is_open()) {
    ofs << "Hello CS106L !" << '\n';
  }
  ofs.close();
  ofs << "this will not get written";

  /* try adding a 'mode' argument to the open method, like std::ios:app
   * What happens?
   */
  ofs.open("hello.txt");
  ofs << "this will though! Itâ€™s open again";
  return 0;
}
```

è¦ä½¿ç”¨æ–‡ä»¶è¾“å‡ºæµï¼Œæˆ‘ä»¬é¦–å…ˆè¦åˆ›å»ºä¸€ä¸ªå…·æœ‰ç±»å‹`std::ofstream`çš„æµã€‚ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼š  

- `ofs(hello.txt)`åˆ›å»ºäº†ä¸€ä¸ªæŒ‡å‘`hello.txt`çš„æ–‡ä»¶è¾“å‡ºæµ`ofs`

- ä½¿ç”¨`is_open()`æ£€æŸ¥æ–‡ä»¶è¾“å‡ºæµæ˜¯å¦æ‰“å¼€

- ä½¿ç”¨`<<`å°è¯•å†™å…¥æ•°æ®

- å†™å…¥ç¬¬ä¸€è¡Œæ•°æ®åï¼Œä½¿ç”¨`close()`å…³é—­æ–‡ä»¶è¾“å‡ºæµ

- æ–‡ä»¶å…³é—­åï¼Œæ— æ³•å‘æ–‡ä»¶ä¸­å†™å…¥æ•°æ®

- ä½¿ç”¨`open()`å†æ¬¡æ‰“å¼€æ–‡ä»¶è¾“å‡ºæµ`ofs`

- æ‰“å¼€æ–‡ä»¶è¾“å‡ºæµåï¼Œå¯ç»§ç»­å‘æ–‡ä»¶å†™å…¥æ•°æ®

åœ¨å…³é—­æ–‡ä»¶è¾“å‡ºæµå¹¶è¿›è¡Œå†æ¬¡æ‰“å¼€çš„æ“ä½œæ—¶ï¼Œå¦‚ä¸å¸Œæœ›å·²å†™å…¥æ–‡ä»¶çš„æ•°æ®è¢«è¦†ç›–ï¼Œå¯åœ¨`open()`æ–¹æ³•çš„å‚æ•°ä¸­æ·»åŠ è¿½åŠ æ¨¡å¼çš„æ ‡ç­¾ï¼š
```cpp
ofs.open("hello.txt", std::ios::app)
```

### æ–‡ä»¶è¾“å…¥æµ

æ–‡ä»¶è¾“å…¥æµç”¨äºä»æ–‡ä»¶è¯»å–æ•°æ®ï¼Œæœ¬è´¨ä¸æ–‡ä»¶è¾“å‡ºæµç›¸åŒã€‚

å‡è®¾æœ‰æ–‡ä»¶`input.txt`ï¼Œå…¶å†…å®¹å¦‚ä¸‹ï¼š

```txt
line1
line2
```
åœ¨ç›¸åŒè·¯å¾„ä¸‹ç¼–è¯‘å¹¶æ‰§è¡Œä»¥ä¸‹ç¨‹åºï¼š

```cpp
#include <fstream>
#include <iostream>

int main() {
  std::ifstream ifs("input.txt");
  if (ifs.is_open()) {
    std::string line;
    std::getline(ifs, line);
    std::cout << "Read from the file: " << line << '\n';
  }
  if (ifs.is_open()) {
    std::string lineTwo;
    std::getline(ifs, lineTwo);
    std::cout << "Read from the file: " << lineTwo << '\n';
  }
  return 0;
}
```
åˆ™ä¼šå¾—åˆ°å¦‚ä¸‹ç»“æœï¼š
```bash
Read from the file: line1
Read from the file: line2
```

## è¾“å…¥æµ

åœ¨æ–‡ä»¶æµä¸­æˆ‘ä»¬ç®€è¦äº†è§£äº†æ–‡ä»¶è¾“å…¥æµçš„ç”¨æ³•ï¼Œä¸‹é¢æˆ‘ä»¬å°†è¯¦ç»†å­¦ä¹ è¾“å…¥æµçš„æ¦‚å¿µä¸åº”ç”¨ã€‚

è¾“å…¥æµç”¨äºä»ç›®æ ‡æˆ–å¤–éƒ¨æ•°æ®æºè¯»å–æ•°æ®ï¼Œå…¶å…·æœ‰æ•°æ®ç±»å‹`std::istream`ã€‚å®é™…æ“ä½œä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨`>>`ä»è¾“å‡ºæµä¸­è¯»å–æ•°æ®ã€‚

### `std::cin`

ä¸`std::cout`ç›¸åŒï¼Œ`std::cin`ä¹Ÿæ˜¯è¡Œç¼“å†²æµã€‚å¯å°†`std::cin`çš„è¡Œç¼“å†²åŒºç†è§£ä¸ºç”¨æˆ·æš‚å­˜æ•°æ®ï¼Œéšåä»ä¸­è¯»å–æ•°æ®çš„åŒºåŸŸã€‚

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ`std::cin`çš„ç¼“å†²åŒºé‡åˆ°ç©ºæ ¼æ—¶ä¼šåœæ­¢æ¥å—æ•°æ®ã€‚

```cpp
int main() {
    double pi;
    std::cin;
    std::cin >> pi;

    std::cout << pi << '\n';

    return 0;
}
```

åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼š

- æœ€å¼€å§‹æ—¶ç¼“å†²åŒºä¸ºç©ºï¼Œæ‰€ä»¥é¦–ä¸ª`std::cin`ä¼šæç¤ºç”¨æˆ·è¿›è¡Œè¾“å…¥

- åˆ°ç¬¬äºŒä¸ª`std::cin`æ—¶ï¼Œç¼“å†²åŒºä¸­ä¸ä¸ºç©ºï¼Œæ‰€ä»¥`cin`ä¼šä»å…¶ä¸­è¯»å–æ•°æ®ï¼Œç›´åˆ°é‡åˆ°ç©ºæ ¼ï¼Œå¹¶å°†æ•°æ®å­˜å…¥å˜é‡`pi`

åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ç›´æ¥å°†è¾“å…¥æ“ä½œä¸æ•°æ®æµè½¬ç§»å†™åœ¨åŒä¸€ä¸ªè¯­å¥ï¼š

```cpp
int main() {
    double pi;
    std::cin >> pi;

    std::cout << pi << '\n';

    return 0;
}
```

ä¸åœ¨äº†è§£å­—ç¬¦ä¸²æµæ—¶é‡åˆ°çš„ä¸€ä¸ªé—®é¢˜ç±»ä¼¼ï¼Œ`std::cin`åœ¨ä»ç›®æ ‡è¯»å–æ•°æ®æ—¶ï¼Œé‡åˆ°ç©ºæ ¼å°±ä¼šåœæ­¢è¯»å–æ•°æ®ï¼š

```cpp
#include <iostream>

void cinGetlineBug() {
  double pi;
  double tao;
  std::string name;
  std::cin >> pi;
  std::cin >> name;
  std::cin >> tao;
  std::cout << "my name is : " << name << " tao is : " << tao
            << " pi is : " << pi << '\n';
}

int main() {
    cinGetlineBug();
    return 0;
}
```
```bash
3.14
Benjamin C
my name is : Benjamin tao is : 0 pi is : 3.14
```
ç¨‹åºç”šè‡³è¿˜æœªç­‰åˆ°æˆ‘ä»¬è¾“å…¥ç¬¬ä¸‰ä¸ªæ•°æ®å°±åœæ­¢ä»æ§åˆ¶å°è¯»å–æ•°æ®äº†ã€‚è¿™æ˜¯ç”±äºåœ¨è¯»å–ç¬¬äºŒä¸ªæ•°æ®æ—¶ï¼Œ`cin`ç¼“å†²åŒºä¸ä¸ºç©ºï¼Œå› æ­¤å®ƒåœ¨è¯»å–æ•°æ®æ—¶é‡åˆ°ç©ºæ ¼åå°±ç«‹åˆ»åœæ­¢ç»§ç»­è¯»å–æ•°æ®ï¼š

```md
Buffer
-----------------------------------
|3|.|1|4|\n|B|e|n|j|a|m|i|n| |C|\n|
-----------------------------------
                            ^
                     stop read data here
```

é‚£ä¹ˆæœ‰äº†ä¹‹å‰å­—ç¬¦ä¸²æµçš„ä¿®å¤ç»éªŒï¼Œä½ å¯èƒ½ä¼šç»™å‡ºä»¥ä¸‹ä¿®å¤ç‰ˆæœ¬ï¼š

```cpp
#include <iostream>

void cinGetlineBug() {
  double pi;
  double tao;
  std::string name;
  std::cin >> pi;
  std::getline(std::cin, name);
  std::cin >> tao;
  std::cout << "my name is : " << name << " tao is : " << tao
            << " pi is : " << pi << '\n';
}

int main() {
    cinGetlineBug();
    return 0;
}
```
ç„¶è€Œï¼Œå®é™…çš„æ‰§è¡Œæ•ˆæœå´æ˜¯è¿™æ ·çš„ï¼š
```bash
3.14
Benjamin C
my name is :  tao is : 0 pi is : 3.14
```
è¿™æ¬¡ç”šè‡³è¿ç¬¬äºŒä¸ªæ•°æ®ä¹Ÿä¸¢å¤±äº†ğŸ¤¯.....

äº‹å®ä¸Šï¼Œç¬¬äºŒä¸ªæ•°æ®å¹¶ä¸æ˜¯â€œä¸¢å¤±äº†â€ï¼Œè€Œæ˜¯`getline()`çš„ç‰¹æ€§å¯¼è‡´çš„ï¼š

åœ¨ä»‹ç»å­—ç¬¦ä¸²æµæ—¶ï¼Œæˆ‘ä»¬æ›¾ä»‹ç»è¿‡`std::getline()`çš„å®šä¹‰ï¼Œå…¶ä¸­æåˆ°äº†ï¼Œ**`getline()`é»˜è®¤å°†`\n`ä½œä¸ºå­—ç¬¦åˆ†éš”ç¬¦ï¼Œå¹¶åœ¨é‡åˆ°å®ƒæ—¶â€œæ¶ˆè€—å®ƒâ€å¹¶åœæ­¢ç»§ç»­è¯»å–æ•°æ®**ï¼Œé‚£ä¹ˆé’ˆå¯¹ä¸Šé¢å¤±è´¥çš„ä¿®æ”¹æˆ‘ä»¬å¯ä»¥æƒ³è±¡å‡ºå¦‚ä¸‹å¯è§†åŒ–è¿‡ç¨‹ï¼š

```md
Buffer   std::cin >> pi;
-----------------------------------
|3|.|1|4|\n|B|e|n|j|a|m|i|n| |C|\n|
-----------------------------------
        ^               pi: 3.14
                || 
                \/

   std::getline(std::cin, name);
-----------------------------------
|3|.|1|4|\n|B|e|n|j|a|m|i|n| |C|\n|
-----------------------------------
           ^            pi: 3.14
                        name: ""
         std::cin >> tao;
-----------------------------------
|3|.|1|4|\n|B|e|n|j|a|m|i|n| |C|\n|
-----------------------------------
            ^^^^^^^^^^^^^^^^^^^^
The buffer is not empty, and cin try to read the part, but 'tao' is double type!
                        pi: 3.14
                        name: ""
                        tao: ğŸ—‘
```

é‚£ä¹ˆåº”è¯¥å¦‚ä½•ä¿®å¤è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ

æ—¢ç„¶`getline()`åœ¨é‡åˆ°`\n`æ—¶ä¼šâ€œæ¶ˆè€—å®ƒâ€å¹¶åœæ­¢è¯»å–æ•°æ®ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸å¦¨åœ¨ç¬¬ä¸€ä¸ª`getline()`æ¶ˆè€—`\n`ååœ¨æ·»åŠ ä¸€ä¸ª`getline()`æ¥è¯»å–`name`çš„å†…å®¹ï¼š

```cpp
#include <iostream>

void cinGetline() {
  double pi;
  double tao;
  std::string name;
  std::cin >> pi;
  std::getline(std::cin, name);
  std::getline(std::cin, name);
  std::cin >> tao;
  std::cout << "my name is : " << name << " tao is : " << tao
            << " pi is : " << pi << '\n';
}

int main() {
    cinGetline();
    return 0;
}
```
è¿™æ—¶å†æ‰§è¡Œç¨‹åºï¼Œbugä¹Ÿå°±è¢«ä¿®å¤äº†ï¼š
```bash
3.14
Benjamin C
5
my name is : Benjamin C tao is : 5 pi is : 3.14
```

å…¶å¯è§†åŒ–è¿‡ç¨‹å¦‚ä¸‹ï¼š

```md
Buffer   std::cin >> pi;
----------------------------------------
|3|.|1|4|\n|B|e|n|j|a|m|i|n| |C|\n| |  |
----------------------------------------
        ^               pi: 3.14
                || 
                \/

   std::getline(std::cin, name);
----------------------------------------
|3|.|1|4|\n|B|e|n|j|a|m|i|n| |C|\n| |  |
----------------------------------------
           ^            pi: 3.14
                        name: ""
                || 
                \/

   std::getline(std::cin, name);
----------------------------------------
|3|.|1|4|\n|B|e|n|j|a|m|i|n| |C|\n| |  |
----------------------------------------
                                  ^
                        pi: 3.14
                        name: "Benjamin C"
                || 
                \/

         std::cin >> tao;
----------------------------------------
|3|.|1|4|\n|B|e|n|j|a|m|i|n| |C|\n| |  |
----------------------------------------
                                   ^
The stream now is empty, so is going to promot user for input!
                        pi: 3.14
                        name: "Benjamin C"
                        tao: 
                || 
                \/

         std::cin >> tao;
----------------------------------------
|3|.|1|4|\n|B|e|n|j|a|m|i|n| |C|\n|5|\n|
----------------------------------------
                                       ^
                        pi: 3.14
                        name: "Benjamin C"
                        tao: 5(double)
```

äº‹å®ä¸Šï¼Œåœ¨å®é™…åº”ç”¨çš„è¿‡ç¨‹ä¸­ï¼Œç”±äº`cin`å’Œ`getline()`è§£ææ•°æ®çš„æ–¹å¼æœ‰æ‰€å·®å¼‚ï¼Œæˆ‘ä»¬å¹¶ä¸ä¼šåœ¨ä¸€ä¸ªåœºæ™¯å†…åŒæ—¶ä½¿ç”¨äºŒè€…ã€‚ä½†ç¡®æœ‰éœ€æ±‚çš„è¯ï¼Œåƒä¸Šé¢çš„æ“ä½œä¹Ÿæ˜¯å¯è¡Œçš„ï¼Œä½†è¿˜æ˜¯ä¸å»ºè®®è¿™æ ·åšã€‚

## Assignment1: SimpleEnroll

è¿™æ¬¡ä½œä¸šè¦æ±‚å­¦ç”Ÿè¡¥å…¨å®ç°ä¸‰ä¸ªå‡½æ•°ï¼Œç”¨äºå®ç°`CSV`æ–‡ä»¶çš„æ•°æ®å¤„ç†ï¼Œè€ƒéªŒå­¦ç”Ÿå¯¹**æ–‡ä»¶è¾“å…¥è¾“å‡ºæµ**çš„æŒæ¡ç¨‹åº¦ã€‚ä½œä¸šéš¾åº¦ä¸ç®—å¤§ï¼ŒåŒæ—¶è¿˜æ¶‰åŠäº†ä¸€å°éƒ¨åˆ†å®¹å™¨éƒ¨åˆ†çš„çŸ¥è¯†ç‚¹ï¼ˆè™½ç„¶ä½†æ˜¯å®¹å™¨éƒ¨åˆ†æ¯”è¾ƒå¸¸ç”¨çš„ä¹Ÿå°±`std::vector`ï¼‰

ä½œä¸šä¸ªäººå®ç°ï¼š[CS106L-Assignments](https://github.com/virtualguard101/cs106l-assignments/blob/main/assignment1/main.cpp)

